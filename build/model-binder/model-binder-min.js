YUI.add("model-binder",function(e,t){var n="model-bind-attribute",r="bind-options",i="bind-property",s="data-"+i,o=function(e){},u=function(){};u.prototype={rootEl:"",initializer:function(){},bind:function(t){var i=this.toJSON(),o,u,a=this.get("rootEl")||e.one("body"),f;this._magicBag=t,a.all("[data-"+r+"]").each(this._setOptions,this),a.all("["+s+"]").each(this._bindViaDataProperty,this);for(o in i)i.hasOwnProperty(o)&&(u=a.one("#"+o),u===null&&(u=a.one("#"+o.toLowerCase())),u===null&&(u=a.all("[name="+o+"]"),u.size()>0?(this._handleRadioGroup(u,o),u=null):u=null),u&&(u.setData(n,o),f=u.getDOMNode(),this._base(u,i,o)))},_getProperty:function(e){if(e.get("type")){var t=e.get("type").toLowerCase();if(t==="checkbox"||t==="radio")return"checked"}return"value"},_bindViaDataProperty:function(e){var t=e.getData(i);o("the prop via "+t),e.setData(n,t),this._base(e,this.toJSON(),t)},_bindToElement:function(e,t){e.on(t,this._setModel,this)},_handleRadioGroup:function(e,t){var r=this.get(t);e.filter('[value="'+r+'"]').set("checked",!0),e.setData(n,t),e.each(function(e){this._bindToElement(e,"click")},this)},_base:function(e,t,n){var r=this._getProperty(e);this._isReadOnly(e)?(e.setHTML(t[n].toString()),this.on(n+"Change",function(t){t.attrName===n&&e.setHTML(t.newVal)},this)):(e.set("value",t[n]),e.on("change",function(e){this.set(n,e.currentTarget.get(r).toString())},this))},_isReadOnly:function(e){var t=e.getDOMNode().nodeName.toLowerCase();return t==="input"||t==="select"||t==="textarea"?!1:!0},_setModel:function(e){this.set(e.currentTarget.getData(n),e.currentTarget.get("value"))},_setOptions:function(t){var n=t.getData(r),i;this._magicBag[n]?i=this._magicBag[n]:i=(new Function("return "+n))(),o(i),e.Array.each(i,function(n){t.append(e.Node.create("<option>"+n+"</option>"))})},_magicBag:{}},e.ModelBinder=u},"@VERSION@",{requires:["node","selector-css3"]});
